<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta charset="utf-8"/>
<head>
<title>Формат файлов him</title>
</head>
<link rel="stylesheet" type="text/css" href="css2.css">
<body>
<h1>Формат файлов him</h1>

Формат карт hi имеет текстовый формат, с обычными разделителями - пробел и новая строка
Сначала сохраняется сама карта- группами из четырех чисел, затем информация об объектах игрока,
затем информация о нейтральных объектах

Теперь подробнее

Юнит в армии героя и у торговца
<pre>
Номер
Количество
Опыт
4 раза Бонусы
4 раза спецспособности 
2 раза Зелья
Артефакт
</pre>

События
<pre>
Количество Событий
Количества событий раз:(Сообщение
ПервыйРаз Интервал КоличествоМодификацийКарты
10 раз (Номер УточненныйНомер Значение)
10 раз (x y x Препятствие)//Замена на препятствие или удаление
)
</pre>

Герой
<pre>
x y z //расположение героя на карте
Опыт Уровень Тип НомерИмени БонусЮнитов СилаМагии ПределМаны
{Существа}
Относительность для существ
12 раз (ВторБонус№ ВторБонусУровень)
105 раз (Наличие заклинания ОценкаЗаклинания)
9 раз НаличиеПоходногоЗаклинания
8 раз АртефактыНаГерое
32 раза АртефактыВРюкзаке
9 раз Звания
Баллиста Санитары Парашюты
События
</pre>

Шпион
<pre>
x y z
Тип Игрок Номер
Уровень ПределМаны ТекущаяМана
</pre>

Строитель
<pre>
x y z
ТекПеремещение МаксПеремещение ТекМана МаксМана Парашюты Тип
</pre>

Торговец
<pre>
x y z
ТекПеремещение МаксПеремещение ТекМана МаксМана Парашюты
Золото Дерево Камень Железо Мифрил Рабочие Еда
</pre>

Рабочий
<pre>
x y z
ТекПеремещение МаксПеремещение ТекМана МаксМана Парашюты Артефакт1 Артефакт2
</pre>

Посол
<pre>
x y z
ТекПеремещение МаксПеремещение ТекМана МаксМана Парашюты Союзник
</pre>

Инженер
<pre>
x y z
ТекПеремещение МаксПеремещение ТекМана МаксМана Парашюты
</pre>

Город
<pre>
{ГарнизонныйГерой}
x y z
Тип
//недоступно-0 доступно-1 построено-2
4 раза {Здание ресурсов}
ТиповБазовыхЗданий
ТиповБазовыхЗданий раза {БазовыхЗданий}
ТиповБазовыхЗданий раза {БазовыхЗданий{БазовоеЗдание}}
7 раз{6 раз{СпециальноеЗдание}}
5 раз{здание рас}
КоличестваЗданийСпецгероев {ЗданиеСпецгероев}
105 раз {НаличиеЗаклинания}
События
</pre>

Образ
<pre>
x y z
тип номер
ЕстьИмпорт СоздатьИмпорт ПриоритетИмпорта СвойтвоВыбораИмпорта
ЕстьЭкспорт ЕстьСвойствоЭкспорта СвойствоВыбораИмпорта
КоличестваСохранений раз (НаличиеСохраненияСвойства)
</pre>

Гарнизон
<pre>
Тип
7 раз {юнит}
</pre>
 
Игрок
<pre>
//количество объектов каждого типа
Героев Городов Шпионов Строителей Торговцев Рабочих НомерРасы Флагов БазФлагов Послов Зеркал Инженеров
Флагов раз{x y z}//координаты
БазФлагов раз{x y z}//координаты
Героев раз{герой}
Шпионов раз{шпион}
Строителей раз{строитель}
Торговцев раз{торговец}
Рабочих раз{рабочий}
Послов раз{посол}
Зеркал раз{зеркало}
Инженеров раз{инженер}
КоличествоТехнологий
КоличестваТехнологий раз {Технологии}//0- недоступно 1-доступно 2-изучено
Городов раз {город}
КоличествоЖилищ
КоличестваЖилищ {x y z тип охрана}
КоличествоШахт
КоличестваШахт {x y z тип}
КоличествоОбразов
КоличествоОбразов {образ}
КоличествоГарнизонов
Количества гарнизонов {гарнизон}
КоличествоБашень
КоличестваБашень (x y z)
КоличествоСокровищ
КоличестваСокровищ (x y z)
КоличествоСтатуй
КоличествоСпутников
КоличестваСпутников (x y dx dy)//координаты и направления
КоличествоЗениток
КоличестваЗениток раз (x y z)
</pre>

Другое
<pre>
//Количество нейтральных объектов, затем сами объекты
Ресурсов
Ресурсов раз (тип дерево камень золото железо мифрил)
Монстров
Монстров раз (x y z ВероятностьПрисоединения ВероятностьПобега УвеличениеКоличества
   НачальноеКоличество КоличествоЧастей ТипДвижения)
3*3 раза (ОхранаТерритории)
НедельныхШахт
НедельныхШахт раз (x y z тип)
Банков
Банков раз (x y z тип)
ОбъектовОбучения
ОбъектовОбучения раз (x y z тип a b c)//a b c- дополнительныя инфа в зависимости от типа
ОбъектовНаблюдения
ОбъектовНаблюдения раз (x y z тип номер)
Тюрем+4//т.к. 0..3-другие здания карты
Тюрем раз {герой}
НейтральныхОбъектовПеремещения
НейтральныхОбъектовПеремещения раз {x y z тип номер}
НейтральныхСпецУсловийПобеды
НейтральныхСпецУсловийПобеды раз {x y z тип номер}
ОбщееКоличествоОбъктовШтурма КоличествоЧекпойнтовГонок
8 раз (КоличествоОбъктовШтурмаИгрока)
{События}//объекты событий
ПобедаСокровищами ПобедаСтатуями ПобедаЧудом ВремяПобедыСокровищами ВремяПобедыСтатуями ВремяПобедыЧудом
ТипПобеды УточненияТипаПобеды ОчковДляПобеды ТипПоражения ОчковДляПоражения
8 раз (СпецУсловияПобедыДляИгрока
СпецУсловияПораженияДляИгрока)
8*8 раз (ОтношенияМеждуИгроками)
{События}//глобальные события
10 раз (количество телепортов шести типов)
ИнформацияОКарте
</pre>

Итоговая загрузка
<pre>
НомерРазмераКарты//соответствующий размер: 0-36 1-72 2-108 3-144
4 раза(доступные уровни)
по всем ячейкам:(земля игрок тип номер)
9 раз {игрок}//8+нейтральный
{Другое}
</pre>

<br><a href="../index.html">Оглавление мануала</a>

</body>

</html>
