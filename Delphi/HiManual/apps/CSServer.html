<html>
<head>
<title>Сервер</title>
</head>
<link rel="stylesheet" type="text/css" href="css2.css">
<body>
<h1>Сервер</h1>
Сервер hi, является обязательным артибутом для запуска игры и позволяет обмениваться сообщениями по сети через tcp/ip,
а также между процессами, для игры,одиночной или многопользовательской(для hiClient и только для него), необходимо запустить сервер,
сервер позволит подсоединиться не только участникам одной игры, но и нескольких, при ограничении 250 человек
<h3>Система сообщений</h3>
Для обмена сообщениями между клиентом и сервером используется специальное кодирование сообщений,
три первых символа- идентификатор, следующие - само сообщение, вот примеры:

<h3>Общее</h3>
<ul>
<li>GL1-GameList
<li>GL2-GameList
<li>DEL-отсоединение
<li>LEA-слив одного, + сохранение
<li>CH1-чат общий
<li>CH2-чат игра до запуска
<li>CH3-чат игра после запуска
<li>CH4-чат в битве
<li>IGI- передача детальной информации об игре
<li>IGJ- передача детальной информации об игре + вход
<li>HSG- хост запускает игру
<li>CHS- Дополнение к 119- для массива выбранных слотов
<li>190- Передача выбираемых хостом параметров игры(читы, фиксированные команды, автосохранение)
<li>11(0,1,2,3,9)- измененение детальной информации одним из игроков
<li>MAP-карта
<li>SAV-сохраненка
<li>RAN-рандом для битвы 1
<li>RAL-рандом для битвы 2(линейка инициативы)
<li>RAI-рандом для битвы 3
</ul>

<h3>Битва-сообщения вида bЦЦ</h3>
<ul>
<li>b00-клик левой кнопкой мыши(+x,y) в основном режиме 
<li>b01-двойной клик
<li>b02-клик левой кнопкой мыши в тактической фазе
<li>b03-клик по линейке инициативы
<li>b04-клик по списку армий
<li>-------------------------
<li>b10-кнопка заклинание герой
<li>b11-кнопка атака герой
<li>-------------------------
<li>b20-кнопка ждать
<li>b21-кнопка защита
<li>b22-кнопка пропустить ход
<li>-------------------------
<li>b30-обычная атака существа
<li>b31-спецдействие 1
<li>b32-спецдействие 2
<li>b33-спецдействие 3
<li>b34-спецдействие 4
<li>b35-использовать зелье существа 1
<li>b36-использовать зелье существа 2
<li>-------------------------
<li>b42-Завершить тактическую фазу
<li>-------------------------
<li>b50-Разбить
<li>b51-Объединить
<li>b52-Без изменения
<li>-------------------------
<li>b60-Кнопка бежать
<li>b61-Кнопка сдаться
</ul>

<h3>События вида dЦЦ-основная формы, списки объектов и карта(drawgrigы)</h3>
<ul>
<li>d00-клик по карте
<li>d10-клик по списку героев
<li>d11-двойной клик по списку героев
<li>d20-клик по списку городов
<li>d21-двойной клик по списку городов
<li>d20-клик по списку городов
<li>d21-двойной клик по списку строителей
<li>d20-клик по списку строителей
<li>d21-двойной клик по списку торговцев
<li>d20-клик по списку торговцев
<li>d21-двойной клик по списку шпионов
<li>d20-клик по списку шпионов
<li>d21-двойной клик по списку послов
<li>d20-клик по списку послов
<li>d21-двойной клик по списку зеркал
<li>d20-клик по списку зеркал
<li>d21-двойной клик по списку городов
<li>d20-клик по списку инженеров
<li>d21-двойной клик по списку инженеров
</ul>

<h3>События вида sЦЦ</h3>
<ul>
<li>s00:DrawGrid операции с существами 1
<li>s01:DrawGrid операции с существами 2
<li>s02:DrawGrid операции с существами 3
<li>s03:OK в form14
<li>-------------------------
<li>s10:Вырезать
<li>s11:Вырезать рюкзак
<li>s12:Вставить
<li>s13:Вставить рюкзак
<li>s14:Удалить
<li>s15:Удалить рюкзак
<li>s16:Перемещение
<li>s17:Перемещение по рюкзаку
<li>-------------------------
<li>s20:Завершить ход
<li>s21:Кнопка Действие
<li>s22:Кнопка копать
<li>s23:Кнопка макси карта
<li>s24:Кнопка игроки
<li>s25:Кнопка победа
<li>s26:Кнопка вниз
<li>s27:Кнопка вверх
<li>s28:Клик по галочке высадка
</ul>

<h3>События cЦЦ-закрытия соответствующих форм hi</h3>
<ul>
<li>c12-героя
<li>c13-города
<li>c14-передачи существ
<li>c15-постройки зданий
<li>c16-найма юнитов
<li>c17-битвы
<li>c18-обмена между героями
<li>c19-применения заклинания
<li>c20-выбора защитника города
<li>c21-стандартного выбора
<li>c22-исхода битвы
<li>c23-повышения уровня героя
<li>c24-информации о существе
<li>c25-обучения героя
<li>c26-зданий на карте
<li>c27-общего обзора
<li>c28-отношений
<li>c29-обзора спец условий победы и поражения
<li>c30-хижины провидца
<li>c31-событий
<li>c32-достижений победы и поражения
<li>c33-читов
<li>c34-спецгероев
<li>c35-спецдействий
<li>c36-торговли
<li>c37-спецспособностей существ в битве
<li>c38-доступных зданий
<li>c39-передач между спецгероями
<li>c40-истории чата
</ul>

<h3>События вида 2ЦЦ-различные формы часть 1</h3>
<ul>
<li>200-ок20 формы
<li>201-удалить юнита
<li>202-ок23 формы
<li>203-ок22 формы
<li>204-ок21 формы
<li>205-отмена21 формы
<li>206-ок25 формы
<li>207-клик в форме26
<li>208-ок в форме 26
<li>209-продать артефакт
<li>210-купить артефакт
<li>211-изучить технологию
<li>212-изучить звание
</ul>

<h3>События вида 3ЦЦ-город</h3>
<ul>
<li>300-постройка
<li>301-рекруты
<li>302-гарнизонный герой
<li>303-герой гость
<li>304-рынокустановить левую метку
<li>305-рынок установить правую метку
<li>306-рынок обменять ресурсы
<li>307-выделить героя в таверне
<li>308-купить нового героя
<li>309-купить сбежавшего героя
<li>310-построить здание
<li>311-разрушить здание
<li>312- изменить проиритеты
<li>313-займ
<li>314-победить в рулетке
<li>315-проиграть в рулетке
<li>316-сразить за банк
<li>317-купить артефакт
<li>318-продать артефакт
<li>319-продать существо
<li>320-депозит
<li>321-купить зелье для юнита
<li>322-купить артефакт для юнита
</ul>

<h3>События вида 4ЦЦ-различные формы часть 2</h3>
<ul>
<li>400-ок30 формы
<li>401-уменьшить отношения
<li>402-поднять отношения
<li>403-подняться на парашюте
<li>404-походное заклинание
<li>405-спуститься на парашюте
<li>406-спуститься на воздушном шаре
<li>407-уточнения миссии шпиона
<li>408-миссии шпиона
<li>409-миссии шпиона
<li>410-постоить город строителем
<li>411-модифицировать землю рабочим
<li>412-строитель строит башню
<li>413-строитель строит храм заклинания
<li>414-строитель строит хижину ведьмы
<li>415-передача ресурсов торговцем
<li>416-походная магия
<li>417-сделать партизан
<li>418-читы1
<li>419-читы2
<li>420-читы3
<li>421-читы применить
<li>422-маскировака
<li>423-копировать спецгероя
<li>424-построить посольство
</ul>

<br><a href="../index.html">Оглавление мануала</a>

</body>
</html>
